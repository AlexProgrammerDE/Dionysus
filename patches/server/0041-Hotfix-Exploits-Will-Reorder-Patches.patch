From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: nopjmp <kthompson@hey.com>
Date: Fri, 10 Dec 2021 19:12:58 -0600
Subject: [PATCH] Hotfix Exploits Will Reorder Patches


diff --git a/pom.xml b/pom.xml
index 228fe27eb4ccc4da1c49de87cf6da5066e16a1f3..083ca65c452b59f4bb0cd7f7a0cd1107186d05ae 100644
--- a/pom.xml
+++ b/pom.xml
@@ -32,7 +32,7 @@
         <dependency>
             <groupId>io.netty</groupId>
             <artifactId>netty-all</artifactId>
-            <version>4.1.58.Final</version>
+            <version>4.1.71.Final</version>
             <scope>compile</scope>
         </dependency>
         <dependency>
@@ -87,7 +87,7 @@
         <dependency>
             <groupId>org.apache.logging.log4j</groupId>
             <artifactId>log4j-core</artifactId>
-            <version>2.8.1</version>
+            <version>2.15.0</version>
             <scope>compile</scope>
         </dependency>
 
@@ -95,13 +95,14 @@
         <dependency>
             <groupId>org.apache.logging.log4j</groupId>
             <artifactId>log4j-slf4j-impl</artifactId>
-            <version>2.8.1</version>
-            <scope>runtime</scope>
+            <version>2.15.0</version>
+            <scope>compile</scope>
         </dependency>
         <dependency>
             <groupId>org.apache.logging.log4j</groupId>
             <artifactId>log4j-iostreams</artifactId>
-            <version>2.8.1</version>
+            <version>2.15.0</version>
+            <scope>compile</scope>
         </dependency>
 
         <!-- Paper - Async loggers -->
@@ -232,6 +233,22 @@
                         </goals>
                         <configuration>
                             <dependencyReducedPomLocation>${project.build.directory}/dependency-reduced-pom.xml</dependencyReducedPomLocation> <!-- Paper -->
+                            <filters>
+                                <filter>
+                                    <artifact>org.spigotmc:minecraft-server:**</artifact>
+                                    <excludes>
+                                        <exclude>io/netty/**</exclude>
+                                        <exclude>org/apache/logging/log4j/**</exclude>
+                                        <exclude>it/unimi/dsi/fastutil/**</exclude>
+                                        <exclude>org/apache/commons/io/**</exclude>
+                                        <exclude>com/google/gson/**</exclude>
+                                        <exclude>org/apache/commons/codec/**</exclude>
+                                        <exclude>org/apache/commons/lang3/**</exclude>
+                                        <exclude>com/google/common/**</exclude>
+                                        <exclude>com/google/thirdparty/publicsuffix/**</exclude>
+                                    </excludes>
+                                </filter>
+                            </filters>
                             <relocations>
                                 <!-- Paper - Workaround for hardcoded path lookup in dependency, easier than forking it - GH-189 -->
                                 <!--<relocation>-->
